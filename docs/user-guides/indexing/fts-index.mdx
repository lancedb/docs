---
title: "Full-Text Search (FTS) Index"
sidebarTitle: "Full-Text Index"
description: "Create and tune BM25-based full-text search indexes in LanceDB."
weight: 2
mode: "wide"
aliases:
  - "/docs/concepts/indexing/fts-index/"
  - "/docs/concepts/indexing/fts-index"
---
import { PyFtsIndexCreate as FtsIndexCreate, PyFtsIndexWait as FtsIndexWait } from '/snippets/indexing.mdx';

LanceDB Cloud and Enterprise provide performant full-text search based on BM25 so you can incorporate keyword-based search into retrieval solutions.

<Note>
The `create_fts_index` API returns immediately, but index building happens asynchronously.
</Note>

## Creating FTS Indexes

<CodeGroup>
    <CodeBlock filename="Python" language="Python" icon="Python">
    {FtsIndexCreate}
    </CodeBlock>
</CodeGroup>

Check FTS index status using the API:

<CodeGroup>
    <CodeBlock filename="Python" language="Python" icon="Python">
    {FtsIndexWait}
    </CodeBlock>
</CodeGroup>

<Note title="OSS Async Limitation">
In LanceDB OSS, `create_fts_index` is not supported with `AsyncTable`. When working with async connections, use `create_index` with the `FTS` configuration instead.

<Expandable title="Code Example">

<CodeGroup>
    <CodeBlock filename="Python" language="Python" icon="Python">
    ```python
import asyncio
import lancedb
import polars as pl
from lancedb.index import FTS

data = pl.DataFrame(
    {
        "id": [1, 2],
        "text": ["His first language is spanish", "Her first language is english"],
    }
)

async def main(data: pl.DataFrame):
    uri = "ex_lancedb"
    db = await lancedb.connect_async(uri)
    tbl = await db.create_table("my_text", data=data, mode="overwrite")

    await tbl.create_index("text", config=FTS(language="English"))

    response = await tbl.search("spanish", query_type="fts")
    result = await response.limit(1).to_polars()
    print(result)

if __name__ == "__main__":
    asyncio.run(main(data))
    ```
    </CodeBlock>
</CodeGroup>

</Expandable>
</Note>

## Configuration Options

### FTS Parameters

| Parameter | Type | Default | Description |
|:----------|:-----|:--------|:------------|
| `with_position` | bool | `False` | Store token positions (required for phrase queries) |
| `base_tokenizer` | str | `"simple"` | Text splitting method (`simple`, `whitespace`, or `raw`) |
| `language` | str | `"English"` | Language for stemming/stop words |
| `max_token_length` | int | `40` | Maximum token size; longer tokens are omitted |
| `lower_case` | bool | `True` | Lowercase tokens |
| `stem` | bool | `True` | Apply stemming (`running` → `run`) |
| `remove_stop_words` | bool | `True` | Drop common stop words |
| `ascii_folding` | bool | `True` | Normalize accented characters |

<Note title="Key parameters">
- `max_token_length` can filter out base64 blobs or long URLs.
- Disabling `with_position` reduces index size but disables phrase queries.
- `ascii_folding` helps with international text (e.g., “café” → “cafe”).
</Note>

### Phrase Query Configuration

Enable phrase queries by setting:

| Parameter | Required Value | Purpose |
|:----------|:---------------|:--------|
| `with_position` | `True` | Track token positions for phrase matching |
| `remove_stop_words` | `False` | Preserve stop words for exact phrase matching |

